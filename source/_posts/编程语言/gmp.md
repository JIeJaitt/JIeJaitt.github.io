---
title: gmp
data: 2021-06-03 10:00:00
excerpt: 本博客暂不显示摘要，请大家谅解
tags:
- Go
- GMP
abbrlink: 328f6061
toc: true
sticky: 
---

第一点gmp每个协程有独立的任务队列，线程池只维护了一个全局的任务队列，高并发情况下同步开销大，这里gmp体现的也是一个本地和全局的思想

第二点线程池其实是一种GM模型，这个模型缺点蛮多的，gmp引入了一个p，实际实现了计算存储分离

第三点线程池实际是一种资源池，是对一定规模的资源复用，gmp没有这个限制

第四点就是粒度和并发度,线程池的粒度是线程，gmp的粒度是协程，线程池的并发度是线程数，gmp的并发度是协程数,线程池的粒度和并发度是一致的，gmp的粒度和并发度是不一致的,这里gmp体现的是一个粗粒度和细粒度的思想,这里的粗粒度和细粒度是相对的

其实gmp体现的思想就是中间件的思想,遇到问题，就往中间加一层