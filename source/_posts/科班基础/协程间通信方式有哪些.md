---
title: 协程间通信方式有哪些
excerpt: 本博客暂不显示摘要，请大家谅解
toc: true
categories: 科班基础
abbrlink: 5912b6f7
date: 2023-08-16 23:46:46
tags:
sticky:
---

## 请问协程间通信方式有哪些

协程间通信主要有以下几种方式:

1. 信号量(Semaphore)
   用来控制可以同时进入临界区的最大线程数,以确保资源的安全使用。
2. 管道(Channel)
   用于 actors 之间安全共享消息的彻底解决方案。通常用来处理异步通信。
3. 共享内存(Shared Memory)
   多个协程可以直接访问和修改共同的内存块来共享数据。但需要额外加锁来防止并发修改导致的问题。
4. 信号(Signal)
   用于通知其他协程某个事件发生了,却不会阻塞发送端或者接收端的协程。非常轻量级。
5. 队列(Queue)
   用于保存和管理多个消息的先进先出集合。协程可以通过生产者-消费者模式来共享队列。
6. 事件(Event)
   表示某个状态的抽象对象,可以被多个协程监听。当事件状态发生变化时,会通知所有监听者。
7. 数据库
   是比较稳定和常用的共享内存形式。多个协程可以通过事务等机制共同访问并修改数据库来完成通信。

除此之外,还有消息队列(Message Queue)、消息中间件(Message Middleware) 这两种方式。它们都是基于异步消息通信的高级概念。

总的来说,主要的协程通信方式包括:

同步通信:共享内存、信号量
异步通信:管道、消息队列、事件
轻量级通信:信号

不同的方式适用于不同的场景,要合理选择以确保高效、安全、低耦合。阻塞与非阻塞也需要权衡, marrying 多种方式也是常见选择。